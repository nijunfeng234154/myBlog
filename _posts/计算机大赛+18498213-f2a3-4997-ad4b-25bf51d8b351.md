---
title: "计算机设计大赛"
date: 2024-04-01
---

作品名初稿：

智控风电：基于稀疏时空图网络的风电功率预测系统

概述：

随着“两山双碳”理论逐渐深入人心，2030年碳达峰目标日益临近，持续稳步提高绿色清洁能源占比愈发重要，发电量占比14.3%(2022)的风电仍然面临一些挑战。

作为一种清洁安全的可再生能源，受制于自然风、气压温度等环境的高度可变的影响，发电量不够稳定且短时间无法获取，为了衡量能否在用电波峰波谷时按照电网需要供给足额的电力（如果无法足额提供，则必须缴纳惩罚费用来启动火力发电厂补足缺额），迫切需要对风电功率进行准确预测。本系统旨在开发一个风电功率预测系统，由私有数据集上传、数据透视、滚动预测、实时更新、一体化模型训练、环境变量相关性分析等多功能前端界面组成，力求做到人机交互友好、模型预测速度快、预测精度较高。其中，数据透视、滚动预测、实时更新为主要功能。数据透视将对历史功率数据和一部分数据集进行量化多维度展示；滚动预测通过调节过去不同长度的时间窗及其预测长度实时展现更新预测效果；实时更新通过推送实时数据与固定时间戳功率方便企业进行用电量调度。

与传统方法相比，该预测系统能够做到24小时不间断检测并将实时数据推送到数据仓库，除了满足基本的风电数据收集，还整合了基于LLG算法的风电功率预测方法、集群化部署、HIVE数据仓库搭建等技术，使得风电功率预测系统功能更加完善，可用性更高。

本系统前端坚固前沿科技和经典稳定的技术栈HTML5、CSS3、Vue3、JQuery框架，后端采用流行的Python3以及轻量化的的Flask框架，降低了代码复杂度便于快速部署。结合软件开发和层次设计的基本规范，使用用户层、业务层、数据持久层三层架构，代码清晰维护性强，安全可信。

 

数据集介绍：

数据集自来百度KDD杯2022的数据集SDWPF，发布于：

https: //aistudio.baidu.com/aistudio/competition/detail/152/0/datasets

由龙源电力集团有限公司(中国乃至亚洲最大的风力发电企业)提供真实数据，涵盖了温度、天气、涡轮机内部动态环境等数据属性，与先前的将该问题视为简单时间序列预测问题不同，这里附带了涡轮机的位置以及动态的天气关联信息。

 

表1 数据属性

|**索引**|**属性名**|**意义**|
|-|-|-|
|**1**|TurbID|涡轮机ID|
|**2**|Day|记录日期|
|**3**|Tmstamp|记录创建时间戳|
|**4**|Wspd(m/s)|风速计记录风速|
|**5**|Wdir(°)|风向与涡轮机中心夹角|
|**6**|Etmp(℃)|环境温度|
|**7**|Itemp(℃)|涡轮机舱内温度|
|**8**|Ndir(°)|短舱偏航角|
|**9**|Pab1(°)|叶片1的桨距角|
|**10**|Pab2(°)|叶片2的桨距角|
|**11**|Pab3(°)|叶片3的桨距角|
|**12**|Prtv(kW)|无功功率|
|**13**|Patc(kW)|有功功率（发电功率）|



风力发电功率预测的主要技术可以划分为两类：一类是传统的经典统计方法，另一类则是基于机器学习和深度学习的方法。

在经典统计方法领域内，短期风电预测通常采用时间序列分析模型，如自回归积分移动平均模型（ARIMA）。这种方法依赖于时间序列数据内在的平稳性和趋势性规律，例如，Yunus等人在文献[18]中运用了一种基于ARIMA的频率分解模型来实现对短期内风电功率的有效预测。

而在最近几年，随着机器学习技术的快速发展和广泛应用，越来越多的研究者转而采用机器学习模型来应对风电预测这一挑战。例如，Wang等人在研究[15]中就采用了支持向量机（SVM）来进行短期风电功率的精准预测。

特别是随着图神经网络（Graph Neural Networks, GNN）技术的突破，风电预测不再仅局限于处理简单的单点时间序列数据，而是开始考虑到空间关联性和风力发电机之间的相互作用。在风电场中，风速、气象条件以及其他地理因素的空间分布特性对风电功率产生重要影响。因此，诸如Li在文献[13]中提出的那样，将图神经网络与深度残差网络（Deep Residual Network, DRN）相结合的技术被用于捕捉风电场内发电机间的非欧空间关系，从而改进了短期风电功率的预测效果。这种新颖的方法体现了现代人工智能技术在复杂系统建模和预测方面的强大潜力。

**主要特色**

1. 独创性： 
传统模型大多只局限于处理简单的单点时间序列数据，本团队自行研发了动态时空图构建模块，进一步考虑了风机之间相互位置、地理位置等可能影响发电功率的空间特性，同时引入图拓扑自动稀疏化技术，进一步减少了计算成本，据此提高了预测准确率，填补了模型优化领域空白

2. 创新性：
系统算法创新性地将时空动态图网络与图拓扑自动稀疏化技术相结合，效果超越了以往只基于图卷积或时间序列分析网络的模型。

3. 有效性：
系统采用龙源中能电力公司开源的真实数据样本进行实验，模型将预测误差降低到4%以下。

4. 完整性
系统具有功能完善、交互友好的Web管理系统，集成了数据上传、模型训练、功率预测、预测结果联动等一体化功能

**主要功能**

本作品主要面向新能源电力行业，设计了**风飏智控**风电功率预测系统，系统主要功能如下：

1）基于图卷积网络，设计实现了基于稀疏时空图网络的风电功率预测模型，根据已有采集的风电数据，智能计算未来的几小时风电场能够输出的电量，降低了预测误差，有效减少后续可能的电力调配成本；

2）系统设计了Web管理页面对整个风电场进行高效管控和监测，电力管理员通过Web页面可以随时查阅当前的风电场各个风机的运行状态和未来输出的电量，合理分配电力资源，风电场维护人员可以根据每个时刻风机的风速、湿度等天气情况和运行状态调整风机朝向或进行合理维护，提高作业效率。



**问题分析**

现有方法不足点

预测性能差，误差较大

多数只关注时间特征，忽略空间特征                                        研究更好的构建风电场网络结构的方法

风电场网络静态构建

难以选择主要分量保持原序列的稀疏性/紧凑表示

无法达到降低图卷积网络计算复杂度的效果

**本作品要解决的痛点（关键）问题**

风能作为清洁能源中比较重要的一种，目前仍无法实现稳定的电力供应，能源浪费高、智能化水平低，主要是因为目前风电场管理中存在以下难以解决的痛点：

1. 现有风电预测性能差、误差较大，缺乏精确的风电功率预测

2. 风机每个时间点的状态各不相同，缺乏全局的实时管理和监测

3. 预测时间尺度太短，无法实现长时间的精确预测

**解决问题的思路**

为了解决风电场运行中风电功率预测性能优化问题，降低预测误差，系统通过分析风力发电实际场景，发现该问题有如下特征：每个风力涡轮机的地理位置在一个风力发电场集群中是固定的，但这些风力涡轮机并不是相互独立的，随着风向的变化，这些节点(风机)之间的相关性是动态演变的：风机与风机之间存在变化的气流。据此通过分析发现，这与动态时空相关建模的应用场景十分类似。目前，针对动态时空相关建模的问题主要解决方案是采用图卷积网络，例如MTGNN、StemGNN，它们在交通预测问题上取得了较好的效果。但由于风电预测时空相关性的复杂性，仍然需要解决一些问题。现有工作预定义的图拓扑一般是静态的，不能充分反映节点间的时空关联特征。现有的基于图卷积网络的方法通常根据经验规律预先定义图的邻接矩阵A。邻接矩阵A的值可以是不同节点之间的距离，也可以是节点之间的相似性。预定义的静态拓扑只表示空间依赖关系，不同时包含时间特征。此外，在图神经网络中，邻接矩阵通常是一个密集图，甚至是一个包含大量噪声信息的全连通图。如此多的连接参数会干扰模型准确捕捉与任务最相关信息的能力。在一个风电场中，可能有数十甚至数百个风机，因此在邻接矩阵中有数千甚至数万条边。这些大量的边并不都与预测任务密切相关，一些与任务无关的信息混入了节点的邻域中，这会导致输入图拓扑中的信息含有相当大的偏差，使模型遭受次优泛化问题。

为了解决上面讨论的两个问题，在这项工作中，我们提出了一种新的用于风电场集群功率预测的稀疏动态时空图(SD-STG)。其主要有两方面改进:

(1)提出动态图生成器(Dynamic Graph Generator)，构建随时间变化的瞬时图，并利用 GCRU 学习和优化动态时空图卷积网络，在不根据经验规律定义图拓扑的前提下，更准确地同时提取节 点(风机)之间的时空依赖关系。这个模块将这些这些时空依赖关系输入模型，使模型在训练过程中能够学习风力发电机组在时空维度上的影响和相关性，从而提高超短期风电场功率预测的准确性。

(2)进一步地，SD-STG对动态时空图(dynamic spatial -temporal graph, DSTG)进行了稀疏化处理，去除与预测任务无关的边，过滤节点之间的冗余连接，引导 DSTG 更加关注重要特征，忽略不重要特征和噪声，从而提高预测性能。此外，稀疏性还可以减少GCRU模型需要学习的参数数量，降低计算成本。



因此，系统将图卷积网络作为主要算法，并对图拓扑的构建方式进行了优化，同时对图表示学习模块学习参数过多、节点之间冗余连接过多的缺点做出了改进，引入了图拓扑自动稀疏化技术，最终设计了基于稀疏动态时空图网络，解决了风电功率预测中模型泛化性能不高的技术瓶颈。通过SDWPF数据集实验表明，模型将预测误差降低到4%以下。（说明什么指标下）

为了解决风电场智能化水平低的问题，系统设计了 Web 管理页面。管理员通过Web 页面可以简单方便的对整个风电场进行管控并且进行电力分配，风机维护员通过Web页面可以随时查阅当前的风机状态和风速、湿度等情况，根据这些信息合理控制风机的朝向，或进行维护作业。系统会实时更新风电场信息。Web管理页面和服务计算系统双端联动，使风电场运行更加智能化，有效提升了风电利用效率，减少资源消耗和人力成本。

**技术路线**



**基于稀疏图时空网络的SD-STG风电功率预测算法设计**

**动态图生成器模块**

我们设计了一个动态时空图学习模块。我们将某个时间戳的风电场集群描述为瞬时图，一种中间图结构。图中边的权重表示节点(风力涡轮机)之间的空间依赖性和时间相关性， 它们随着时间的推移而演变。

一般来说，图卷积操作可以定义为一阶切比雪夫多项式的扩展，并表述为：

![image.png](计算机大赛+18498213-f2a3-4997-ad4b-25bf51d8b351/image.png)

式中A为图结构邻接矩阵，D为度矩阵，X和Z为图卷积网络(GCN)的输入矩阵和输出矩阵。其中参数Θ和b分别表示可学习的权重和偏置。到目前为止邻接矩阵A仍然是静态的。

现在，关键的任务是如何获得时变邻接矩阵，其在模型训练过程中可以不断更新，以学习节点之间正确的时空依赖关系。

我们不是直接生成图的邻接矩阵，而是通过超网络随机初始化节点嵌入，并使用节点嵌入的乘积来描述节点之间的相关性。 然后，在深度模型训练的过程中，节点嵌入会自动更新，以学习风电输出可能受到其他节点影响，或者与其他节点相似的节点之间隐藏的相关性。一个可随模型训练自动更新的动态图拓扑生成可以表述为:

![image.png](计算机大赛+18498213-f2a3-4997-ad4b-25bf51d8b351/image 1.png)

  式中E∈RN×d为使用全连接神经网络层实现的超网络随机生成的节点嵌入，ET为E的转置。上标N为一个时空图中的节点数，的每一行为图中一个节点的嵌入，d表示节点嵌入的维数。E使 用 softmax 函数对矩阵的值进行归一化。A ̃N∈RN× N为有 N 个节点的动态图的归一化邻接矩阵。 A ̃N虽然在式(4)中可以通过超网络改变，但它仍然是传统的邻接矩阵。更合适的名称可能是自适应图(adaptive graph)。

我们将动态时空图定义如下:

![image.png](计算机大赛+18498213-f2a3-4997-ad4b-25bf51d8b351/image 2.png)

其中为图卷积运算的输出，和为图卷积网络中可学习的核参数。HtW这里，我们使用 leakyReLU 函数，而不是 relu 函数。HtReLU 函数将所有负值映射为 0，而与 ReLU 不同的是， LeakyReLU为负值设置了非零斜率。我们选择LeakyReLU的目的是有机会捕获图节点之间的一些 负连接。显然，受的影响，相邻矩阵会随着GCRN的训练而随时间浮动。𝒜̃N,t { 在不失一般性的前提下，基于门控递归单元(Gated Recurrent Unit, GRU)和图卷积运算，DDG 与GCRU相结合的计算过程可表述为: Zt = σ(A ̃N[Ht−1,Xt] ∗ℊ Wz + bZ) Rt = σ(A ̃N[Ht−1,Xt] ∗ℊ Wr + br) Ct = tanh(A ̃N[Rt ⊙Ht−1,Xt]∗ℊ WC +bC) Ht = Zt ⊙Ht−1+(1−Zt)⊙Ct (6) 其中和分别为复位门和更新门。ZtRtσ(∙)表示 sigmoid 激活函数，算子为图卷积运算，算子⊙ 表示Hardmard 积。∗ℊ W表示可学习的核参数，为偏置参数。bHt为图卷积运算的输出，为 GCRU 的输入。XtA ̃NGCRU模块通过更新和自动发现空间依赖关系。HtA ̃N

**稀疏动态图学习器**

为了获得更好的预测性能，我们进一步优化构建图拓扑结构和模型的图表示学习过程。实际实验中，风电场构建的图拓扑包含了大量的噪声信息，即图中包含了大量与任务无关的边。这些边代表了节点之间的依赖特征，而那些不相关的边不仅增加了计算成本， 还会影响模型的精度。此外，在处理大规模图(数百个风力涡轮机)时，GCRU 需要巨大的计算成本。我们通过图稀疏化方法来解决这些问题。

AD需要通过寻找小的子图并忽略那些与任务无关的边来进一步稀疏，以便 GCRU 模型更多地关注关键特征。

学习离散结构的一种常用方法是利用 Gumbel-Softmax 技巧使生成图端到端可微，如 NeuralSparse[24]。这里，与分类表示的神经稀疏不同，我们对邻接矩阵的权重进行归一化，而不是将概率密度分布作为权重。 我们引入注意力机制来实现鲁棒的图表示学习。

式由带噪声的Gumbel分布绘制，我们引入超参数 τ称为温度，它可以控制离散随机变量的分布或连续随机变量的密度，这里即我们动态构建的时空图邻接矩阵的密度。ϵ=−log(−log (z))z~Uniform(0,1)一般来说，当 τ 相对较小时，可以高度稀疏，但过低的温度也会导致梯度方差过高，这将阻碍深度模型训练过程中的有效反向传播。𝒜̂τ 因此，我们需要设计一个策略来仔细选择温度。于是在模型训练时，我们采用模拟退火策略来动态调整温度。模拟退火策略即在模型训练过程中动态地调整参数T ，通常是从较高的值逐渐降低，这样可以在训练初期学习更多的信息，在训练后期则更加专注于利用与任务相关的信息，达到稀疏化的效果。





**模型对比（顺序可能提前，介绍我们的模型我们就写对比，参考英文论文）**

不同于一些方法对单个风机建模最后再整合，我们采用整体对风电场建模的方式，能够读入大量风机的数据，同时融合风机之间的空间特征，以此达到减少计算成本、降低预测误差的效果

AGCRN

我们解决风电预测问题的基本思路也是基于图卷积网络。

AGCRN原先是交通预测中的一个创新模型，可以有效地处理交通数据中的时空依赖关系。该模型结合了节点特定元模式学习模块和节点注意力权重生成模块，可以同时准确地预测短期和长期的交通流量。

该模型包含两个创新的自适应模块：节点自适应参数学习（NAPL）模块负责学习每个流量序列独特的节点特性，通过对传统GCN参数进行分解，根据节点嵌入生成节点特定参数；数据自适应图生成（DAGG）模块则从原始数据中推理节点嵌入，并在训练过程中自动生成图结构，从而解决了预定义图的问题。





D-linear模型可以使用  LightGBM可以作为对比方案





![image.png](计算机大赛+18498213-f2a3-4997-ad4b-25bf51d8b351/image 3.png)

[杂鱼](%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%A4%A7%E8%B5%9B+18498213-f2a3-4997-ad4b-25bf51d8b351/%E6%9D%82%E9%B1%BC%20296995db-1c71-4666-8316-46038f6ad709.md)



[ppt](%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%A4%A7%E8%B5%9B+18498213-f2a3-4997-ad4b-25bf51d8b351/ppt%20735f093a-5660-4b8c-af99-03d1758a5c3a.md)



